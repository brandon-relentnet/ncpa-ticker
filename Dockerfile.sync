FROM node:22-alpine

WORKDIR /app

# Install production dependencies only
COPY package.json package-lock.json ./
RUN npm ci --omit=dev

# Copy the sync server source
COPY server/ ./server/

EXPOSE 4000

CMD ["node", "server/tickerSyncServer.js"]
